<ion-header>
  <ion-toolbar class="header">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/tabs/quest"></ion-back-button>
    </ion-buttons>
    <ion-title>
      <img src="assets/imgs/logo.png" class="header-logo" />
    </ion-title>
    <ion-buttons slot="end">
      <ion-icon name="settings" class="header-setting"></ion-icon>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ng-container *ngIf="(quest$ | async) as quest">
    <div class="content">
      <div class="thumbnail"></div>
      <ng-container *ngIf="quest.status === 'finished'">
        <div class="trophy">
          <ion-icon name="trophy"></ion-icon>
          <div class="trophy-text">
            <div class="trophy-message">ほげのちゃんが達成！</div>
            <div class="trophy-datetime">{{ datePipe.transform(addDate(quest.period), 'yyyy/MM/dd h:mm') }}</div>
          </div>
        </div>
        <div class="trophy-buttons">
          <div class="trophy-button" tappable (click)="approve()">
            達成確認！
          </div>
          <div class="trophy-button-cancel" tappable (click)="reject()">
            もう一回！
          </div>
        </div>
      </ng-container>
      <div class="title">
        {{ quest.title }}
      </div>
      <div class="info">
        <div class="info-point">
          <img src="assets/icon/jewel.svg">
          {{ quest.point }}
        </div>
        <div *ngIf="!!quest.period" class="info-datetime">
          {{ datePipe.transform(quest.period, 'yyyy/MM/dd h:mm') }} まで
        </div>
      </div>
      <div class="description">
        {{ quest.description }}
      </div>
    </div>
    <ion-fab vertical="bottom" horizontal="end" slot="fixed">
      <ion-fab-button>
        <ion-icon name="md-create"></ion-icon>
      </ion-fab-button>
    </ion-fab>
  </ng-container>
</ion-content>
